{% extends 'base.html' %}

{% block title %}
Искусственный Интеллект
{% endblock %}

{% block body %}
<div class="container mt-5">
    <h1>Добавить статью</h1>
    <form method="post">
        <!-- Только поле для текста, без заголовка -->
        <textarea name="text" id="text" class="form-control" placeholder="Введите текст статьи" rows="5" required></textarea><br>

        <input type="submit" class="btn btn-success" value="Отправить"><br>
    </form>

    <!-- Показываем существующие статьи -->
    {% if articles %}
        <h2 class="mt-5">Все статьи:</h2>
        {% for article in articles %}
            <div class="alert alert-info mt-3">
                <!-- Если заголовка нет, показываем "Без заголовка" или начало текста -->
                <h3>
                    {% if article.title %}
                        {{ article.title }}
                    {% else %}
                        Статья #{{ article.id }}
                    {% endif %}
                </h3>
                <p>{{ article.text }}</p>
                <p><b>Дата: {{ article.date.date() }}</b></p>
            </div>
        {% endfor %}
    {% else %}
        <p class="mt-5">Статей пока нет.</p>
    {% endif %}
</div>
{% endblock %}